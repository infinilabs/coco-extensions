{"version":3,"file":"static/chunks/pages/editor-81b0108b8f9861d1.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./src/constants/graph.ts","webpack://_N_E/./src/enums/file.enum.ts","webpack://_N_E/./src/enums/viewMode.enum.ts","webpack://_N_E/./src/features/editor/views/GraphView/lib/utils/calculateNodeSize.ts","webpack://_N_E/./src/features/editor/views/GraphView/lib/jsonParser.ts","webpack://_N_E/./src/features/editor/views/GraphView/stores/useGraph.ts","webpack://_N_E/./src/lib/utils/jsonAdapter.ts","webpack://_N_E/./src/features/editor/BottomBar.tsx","webpack://_N_E/./src/features/editor/FullscreenDropzone.tsx","webpack://_N_E/./src/features/editor/Toolbar/styles.ts","webpack://_N_E/./src/features/editor/Toolbar/FileMenu.tsx","webpack://_N_E/./src/features/editor/Toolbar/ToolsMenu.tsx","webpack://_N_E/./src/features/editor/Toolbar/ViewMenu.tsx","webpack://_N_E/./src/features/editor/Toolbar/index.tsx","webpack://_N_E/./src/pages/editor.tsx","webpack://_N_E/./src/store/useConfig.ts","webpack://_N_E/./src/lib/utils/helpers.ts","webpack://_N_E/./src/store/useFile.ts","webpack://_N_E/./src/store/useJson.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/editor\",\n      function () {\n        return require(\"private-next-pages/editor.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/editor\"])\n      });\n    }\n  ","export const NODE_DIMENSIONS = {\n  ROW_HEIGHT: 30, // Regular row height\n  PARENT_HEIGHT: 36, // Height for parent nodes\n} as const;\n\nexport const SUPPORTED_LIMIT = +(process.env.NEXT_PUBLIC_NODE_LIMIT as string);\n","export enum FileFormat {\n  \"JSON\" = \"json\",\n  \"YAML\" = \"yaml\",\n  \"XML\" = \"xml\",\n  \"TOML\" = \"toml\",\n  \"CSV\" = \"csv\",\n}\n\nexport const formats = [\n  { value: FileFormat.JSON, label: \"JSON\" },\n  { value: FileFormat.YAML, label: \"YAML\" },\n  { value: FileFormat.XML, label: \"XML\" },\n  { value: FileFormat.CSV, label: \"CSV\" },\n];\n\nexport enum TypeLanguage {\n  TypeScript = \"typescript\",\n  TypeScript_Combined = \"typescript/typealias\",\n  Go = \"go\",\n  JSON_SCHEMA = \"json_schema\",\n  Kotlin = \"kotlin\",\n  Rust = \"rust\",\n}\n\nexport const typeOptions = [\n  {\n    label: \"TypeScript\",\n    value: TypeLanguage.TypeScript,\n    lang: \"typescript\",\n  },\n  {\n    label: \"TypeScript (merged)\",\n    value: TypeLanguage.TypeScript_Combined,\n    lang: \"typescript\",\n  },\n  {\n    label: \"Go\",\n    value: TypeLanguage.Go,\n    lang: \"go\",\n  },\n  {\n    label: \"JSON Schema\",\n    value: TypeLanguage.JSON_SCHEMA,\n    lang: \"json\",\n  },\n  {\n    label: \"Kotlin\",\n    value: TypeLanguage.Kotlin,\n    lang: \"kotlin\",\n  },\n  {\n    label: \"Rust\",\n    value: TypeLanguage.Rust,\n    lang: \"rust\",\n  },\n];\n","export enum ViewMode {\n  Graph = \"graph\",\n  Tree = \"tree\",\n}\n","import { NODE_DIMENSIONS } from \"../../../../../../constants/graph\";\nimport useConfig from \"../../../../../../store/useConfig\";\n\ntype Text = number | string | [string, string][];\ntype Size = { width: number; height: number };\n\nexport const isContentImage = (value: Text) => {\n  if (typeof value !== \"string\") return false;\n\n  const isImageURL = /(https?:\\/\\/.*\\.(?:png|jpg|gif|svg))/i.test(value);\n  const isBase64 = value.startsWith(\"data:image/\") && value.includes(\"base64\");\n\n  return isImageURL || isBase64;\n};\n\nconst calculateLines = (text: Text): string => {\n  if (Array.isArray(text)) {\n    return text.map(([k, v]) => `${k}: ${JSON.stringify(v).slice(0, 80)}`).join(\"\\n\");\n  }\n\n  return `${text}`;\n};\n\nconst calculateWidthAndHeight = (str: string, single = false) => {\n  if (!str) return { width: 45, height: 45 };\n\n  const dummyElement = document.createElement(\"div\");\n  dummyElement.style.whiteSpace = single ? \"nowrap\" : \"pre-wrap\";\n  dummyElement.innerText = str;\n  dummyElement.style.fontSize = \"12px\";\n  dummyElement.style.width = \"fit-content\";\n  dummyElement.style.padding = \"0 10px\";\n  dummyElement.style.fontWeight = \"500\";\n  dummyElement.style.fontFamily = \"monospace\";\n  document.body.appendChild(dummyElement);\n\n  const clientRect = dummyElement.getBoundingClientRect();\n  const lines = str.split(\"\\n\").length;\n\n  const width = clientRect.width + 4;\n  // Use parent height for single line nodes that are parents\n  const height = single ? NODE_DIMENSIONS.PARENT_HEIGHT : lines * NODE_DIMENSIONS.ROW_HEIGHT;\n\n  document.body.removeChild(dummyElement);\n  return { width, height };\n};\n\nconst sizeCache = new Map<Text, Size>();\n\n// clear cache every 2 mins\nsetInterval(() => sizeCache.clear(), 120_000);\n\nexport const calculateNodeSize = (text: Text, isParent = false) => {\n  const { imagePreviewEnabled } = useConfig.getState();\n  const isImage = isContentImage(text) && imagePreviewEnabled;\n\n  const cacheKey = [text, isParent].toString();\n\n  // check cache if data already exists\n  if (sizeCache.has(cacheKey)) {\n    const size = sizeCache.get(cacheKey);\n    if (size) return size;\n  }\n\n  const lines = calculateLines(text);\n  const sizes = calculateWidthAndHeight(lines, typeof text === \"string\");\n\n  if (isImage) {\n    sizes.width = 80;\n    sizes.height = 80;\n  }\n\n  if (isParent) sizes.width += 80;\n  if (sizes.width > 700) sizes.width = 700;\n\n  sizeCache.set(cacheKey, sizes);\n  return sizes;\n};\n","/**\n * Copyright (c) JSON Crack\n * This source code is licensed under the Apache 2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { parseTree, getNodePath, type Node } from \"jsonc-parser\";\nimport type { EdgeData, NodeData, NodeRow } from \"../../../../../types/graph\";\nimport { calculateNodeSize } from \"./utils/calculateNodeSize\";\n\nexport type Graph = {\n  nodes: NodeData[];\n  edges: EdgeData[];\n};\n\nexport const parser = (json: string): Graph => {\n  const jsonTree = parseTree(json);\n  if (!jsonTree) return { nodes: [], edges: [] };\n\n  const nodes: NodeData[] = [];\n  const edges: EdgeData[] = [];\n  let nodeId = 1;\n  let edgeId = 1;\n\n  function traverse(node: Node, parentId?: string) {\n    const id = String(nodeId++);\n    const text: NodeRow[] = [];\n\n    // If parentId is provided, create an edge from parentId to the current node id\n    if (parentId !== undefined && node.parent?.type === \"array\") {\n      edges.push({\n        id: String(edgeId++),\n        from: parentId,\n        to: id,\n        text: \"\",\n      });\n    }\n\n    const isArray = node.type === \"array\";\n    const isRootArray = !node.parent || node.parent.type === \"array\";\n    if (isArray && isRootArray) {\n      const { width, height } = calculateNodeSize(`[${node.children?.length ?? \"0\"} items]`);\n      nodes.push({\n        id,\n        text: [\n          {\n            key: null,\n            value: `[${node.children?.length ?? 0} items]`,\n            type: \"array\",\n            childrenCount: node.children?.length,\n          },\n        ],\n        width,\n        height,\n        path: [],\n      });\n\n      node.children?.forEach(child => {\n        traverse(child, id);\n      });\n\n      return id;\n    }\n\n    node.children?.forEach(child => {\n      if (!child.children || !child.children[1]) return traverse(child, id);\n\n      const key = child.children[0].value ?? null;\n      const valueNode = child.children[1];\n      const type = valueNode.type;\n\n      if (type === \"array\") {\n        const targetIds: string[] = [];\n\n        valueNode.children?.forEach(arrayChild => {\n          const arrayChildId = traverse(arrayChild, undefined);\n          if (arrayChildId) targetIds.push(arrayChildId);\n        });\n\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n          to: targetIds.length > 0 ? targetIds : undefined,\n          childrenCount: valueNode.children?.length,\n        });\n\n        targetIds.forEach(targetId => {\n          edges.push({\n            id: String(edgeId++),\n            from: id,\n            to: targetId,\n            text: key ?? null,\n          });\n        });\n      } else if (type === \"object\") {\n        const objectNodeId = traverse(valueNode, id);\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n          childrenCount: Object.keys(valueNode.children ?? {}).length,\n          ...(objectNodeId && { to: [objectNodeId] }),\n        });\n\n        if (objectNodeId) {\n          edges.push({\n            id: String(edgeId++),\n            from: id,\n            to: objectNodeId,\n            text: key ?? null,\n          });\n        }\n      } else {\n        text.push({\n          key,\n          value: valueNode.value,\n          type,\n        });\n      }\n    });\n\n    // to handle case where empty object inside array [{}]\n    if (node.parent?.type === \"array\" && node.type === \"object\" && node.children?.length === 0) {\n      text.push({\n        key: null,\n        value: \"{0 keys}\",\n        type: \"object\",\n        childrenCount: 0,\n      });\n    }\n\n    const appendParentKey = () => {\n      const getParentKey = (targetNode: any) => {\n        const path = getNodePath(targetNode);\n        return path?.pop()?.toString();\n      };\n\n      if (!node.parent) {\n        return { parentKey: getParentKey(node), parentType: node.type };\n      }\n\n      if (node.parent.type === \"array\") {\n        return { parentKey: getParentKey(node.parent), parentType: \"array\" };\n      }\n\n      if (node.parent.type === \"property\") {\n        return { parentKey: getParentKey(node), parentType: \"object\" };\n      }\n\n      return {\n        parentKey: getParentKey(node),\n        parentType: node.parent.type.replace(\"property\", \"object\"),\n      };\n    };\n\n    // its for singular text like string, number, boolean, null\n    if (text.length === 0) {\n      if (typeof node.value === \"undefined\") return;\n      const { width, height } = calculateNodeSize(node.value);\n\n      nodes.push({\n        id,\n        text: [\n          {\n            key: null,\n            value: node.value,\n            type: node.type,\n          },\n        ],\n        width,\n        height,\n        path: getNodePath(node),\n        ...appendParentKey(),\n      });\n    } else {\n      let t: string | [string, string][] = \"\";\n\n      if (text.some(t => t.key !== null)) {\n        t = text.map(t => {\n          const keyStr = t.key === null ? \"\" : t.key;\n          if (t.type === \"object\") return [keyStr, `{${t.childrenCount ?? 0} keys}`];\n          if (t.type === \"array\") return [keyStr, `[${t.childrenCount ?? 0} items]`];\n          if (t.value === null) return [keyStr, \"null\"];\n\n          return [keyStr, `${t.value}`];\n        });\n      } else {\n        t = `${text[0].value}`;\n      }\n\n      const { width, height } = calculateNodeSize(t);\n      nodes.push({\n        id,\n        text,\n        width,\n        height,\n        path: getNodePath(node),\n        ...appendParentKey(),\n      });\n    }\n\n    return id; // Return the current id for referencing in the parent node\n  }\n\n  traverse(jsonTree);\n  return { nodes, edges };\n};\n","import type { ViewPort } from \"react-zoomable-ui/dist/ViewPort\";\nimport type { CanvasDirection } from \"reaflow/dist/layout/elkLayout\";\nimport { create } from \"zustand\";\nimport { SUPPORTED_LIMIT } from \"../../../../../constants/graph\";\nimport useJson from \"../../../../../store/useJson\";\nimport type { EdgeData, NodeData } from \"../../../../../types/graph\";\nimport { parser } from \"../lib/jsonParser\";\n\nexport interface Graph {\n  viewPort: ViewPort | null;\n  direction: CanvasDirection;\n  loading: boolean;\n  fullscreen: boolean;\n  nodes: NodeData[];\n  edges: EdgeData[];\n  selectedNode: NodeData | null;\n  path: string;\n  aboveSupportedLimit: boolean;\n}\n\nconst initialStates: Graph = {\n  viewPort: null,\n  direction: \"RIGHT\",\n  loading: true,\n  fullscreen: false,\n  nodes: [],\n  edges: [],\n  selectedNode: null,\n  path: \"\",\n  aboveSupportedLimit: false,\n};\n\ninterface GraphActions {\n  setGraph: (json?: string, options?: Partial<Graph>[]) => void;\n  setLoading: (loading: boolean) => void;\n  setDirection: (direction: CanvasDirection) => void;\n  setViewPort: (ref: ViewPort) => void;\n  setSelectedNode: (nodeData: NodeData) => void;\n  focusFirstNode: () => void;\n  toggleFullscreen: (value: boolean) => void;\n  zoomIn: () => void;\n  zoomOut: () => void;\n  centerView: () => void;\n  clearGraph: () => void;\n  setZoomFactor: (zoomFactor: number) => void;\n}\n\nconst useGraph = create<Graph & GraphActions>((set, get) => ({\n  ...initialStates,\n  clearGraph: () => set({ nodes: [], edges: [], loading: false }),\n  setSelectedNode: nodeData => set({ selectedNode: nodeData }),\n  setGraph: (data, options) => {\n    const { nodes, edges } = parser(data ?? useJson.getState().json);\n\n    if (nodes.length > SUPPORTED_LIMIT) {\n      return set({\n        aboveSupportedLimit: true,\n        ...options,\n        loading: false,\n      });\n    }\n\n    set({\n      nodes,\n      edges,\n      aboveSupportedLimit: false,\n      ...options,\n    });\n  },\n  setDirection: (direction = \"RIGHT\") => {\n    set({ direction });\n    setTimeout(() => get().centerView(), 200);\n  },\n  setLoading: loading => set({ loading }),\n  focusFirstNode: () => {\n    const rootNode = document.querySelector(\"g[id$='node-1']\");\n    get().viewPort?.camera?.centerFitElementIntoView(rootNode as HTMLElement, {\n      elementExtraMarginForZoom: 100,\n    });\n  },\n  setZoomFactor: zoomFactor => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, zoomFactor);\n  },\n  zoomIn: () => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, viewPort.zoomFactor + 0.1);\n  },\n  zoomOut: () => {\n    const viewPort = get().viewPort;\n    viewPort?.camera?.recenter(viewPort.centerX, viewPort.centerY, viewPort.zoomFactor - 0.1);\n  },\n  centerView: () => {\n    const viewPort = get().viewPort;\n    viewPort?.updateContainerSize();\n\n    const canvas = document.querySelector(\".jsoncrack-canvas\") as HTMLElement | null;\n    if (canvas) {\n      viewPort?.camera?.centerFitElementIntoView(canvas);\n    }\n  },\n  toggleFullscreen: fullscreen => set({ fullscreen }),\n  setViewPort: viewPort => set({ viewPort }),\n}));\n\nexport default useGraph;\n","import type { ParseError } from \"jsonc-parser\";\nimport { FileFormat } from \"../../enums/file.enum\";\n\nexport const contentToJson = (value: string, format = FileFormat.JSON): Promise<object> => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      if (!value) return resolve({});\n\n      if (format === FileFormat.JSON) {\n        const { parse } = await import(\"jsonc-parser\");\n        const errors: ParseError[] = [];\n        const result = parse(value, errors);\n        if (errors.length > 0) JSON.parse(value);\n        return resolve(result);\n      }\n\n      if (format === FileFormat.YAML) {\n        const { load } = await import(\"js-yaml\");\n        return resolve(load(value) as object);\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLParser } = await import(\"fast-xml-parser\");\n        const parser = new XMLParser({\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n          allowBooleanAttributes: true,\n          parseAttributeValue: true,\n          trimValues: true,\n          parseTagValue: true,\n        });\n        return resolve(parser.parse(value));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { csv2json } = await import(\"json-2-csv\");\n        const result = csv2json(value, {\n          trimFieldValues: true,\n          trimHeaderFields: true,\n          wrapBooleans: true,\n          excelBOM: true,\n        });\n        return resolve(result);\n      }\n\n      return resolve({});\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Failed to parse content\";\n      return reject(errorMessage);\n    }\n  });\n};\n\nexport const jsonToContent = async (json: string, format: FileFormat): Promise<string> => {\n  return new Promise(async resolve => {\n    try {\n      if (!json) return resolve(\"\");\n\n      if (format === FileFormat.JSON) {\n        const parsedJson = JSON.parse(json);\n        return resolve(JSON.stringify(parsedJson, null, 2));\n      }\n\n      if (format === FileFormat.YAML) {\n        const { dump } = await import(\"js-yaml\");\n        const { parse } = await import(\"jsonc-parser\");\n        return resolve(dump(parse(json)));\n      }\n\n      if (format === FileFormat.XML) {\n        const { XMLBuilder } = await import(\"fast-xml-parser\");\n        const builder = new XMLBuilder({\n          format: true,\n          attributeNamePrefix: \"$\",\n          ignoreAttributes: false,\n        });\n\n        return resolve(builder.build(JSON.parse(json)));\n      }\n\n      if (format === FileFormat.CSV) {\n        const { json2csv } = await import(\"json-2-csv\");\n        const parsedJson = JSON.parse(json);\n\n        const data = Array.isArray(parsedJson) ? parsedJson : [parsedJson];\n        return resolve(\n          json2csv(data, {\n            expandArrayObjects: true,\n            expandNestedObjects: true,\n            excelBOM: true,\n            wrapBooleans: true,\n            trimFieldValues: true,\n            trimHeaderFields: true,\n          })\n        );\n      }\n\n      return resolve(json);\n    } catch (error) {\n      console.error(json, error);\n      return resolve(json);\n    }\n  });\n};\n","import React from \"react\";\nimport { Flex, Menu, Popover, Text } from \"@mantine/core\";\nimport styled from \"styled-components\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { BiSolidDockLeft } from \"react-icons/bi\";\nimport { IoMdCheckmark } from \"react-icons/io\";\nimport { MdArrowUpward } from \"react-icons/md\";\nimport { VscCheck, VscError, VscRunAll, VscSync, VscSyncIgnored } from \"react-icons/vsc\";\nimport { formats } from \"../../enums/file.enum\";\nimport useConfig from \"../../store/useConfig\";\nimport useFile from \"../../store/useFile\";\nimport useGraph from \"./views/GraphView/stores/useGraph\";\n\nconst StyledBottomBar = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-top: 1px solid ${({ theme }) => theme.BACKGROUND_MODIFIER_ACCENT};\n  background: ${({ theme }) => theme.TOOLBAR_BG};\n  max-height: 27px;\n  height: 27px;\n  z-index: 35;\n  padding-right: 6px;\n\n  @media screen and (max-width: 320px) {\n    display: none;\n  }\n`;\n\nconst StyledLeft = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  gap: 4px;\n  padding-left: 8px;\n\n  @media screen and (max-width: 480px) {\n    display: none;\n  }\n`;\n\nconst StyledRight = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: right;\n  gap: 4px;\n`;\n\nconst StyledBottomBarItem = styled.button<{ $bg?: string }>`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  width: fit-content;\n  margin: 0;\n  height: 28px;\n  padding: 4px;\n  font-size: 12px;\n  font-weight: 400;\n  color: ${({ theme }) => theme.INTERACTIVE_NORMAL};\n  background: ${({ $bg }) => $bg};\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:hover:not(&:disabled) {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n    color: ${({ theme }) => theme.INTERACTIVE_HOVER};\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: default;\n  }\n`;\n\nexport const BottomBar = () => {\n  const data = useFile(state => state.fileData);\n  const toggleLiveTransform = useConfig(state => state.toggleLiveTransform);\n  const liveTransformEnabled = useConfig(state => state.liveTransformEnabled);\n  const error = useFile(state => state.error);\n  const setContents = useFile(state => state.setContents);\n  const toggleFullscreen = useGraph(state => state.toggleFullscreen);\n  const fullscreen = useGraph(state => state.fullscreen);\n  const setFormat = useFile(state => state.setFormat);\n  const currentFormat = useFile(state => state.format);\n\n  const toggleEditor = () => {\n    toggleFullscreen(!fullscreen);\n    gaEvent(\"toggle_fullscreen\");\n  };\n\n  React.useEffect(() => {\n    if (data?.name) window.document.title = `${data.name} | JSON Crack`;\n  }, [data]);\n\n  return (\n    <StyledBottomBar>\n      <StyledLeft>\n        <StyledBottomBarItem onClick={toggleEditor}>\n          <BiSolidDockLeft />\n        </StyledBottomBarItem>\n        <StyledBottomBarItem>\n          {error ? (\n            <Popover width=\"auto\" shadow=\"md\" position=\"top\" withArrow>\n              <Popover.Target>\n                <Flex align=\"center\" gap={2}>\n                  <VscError color=\"red\" />\n                  <Text c=\"red\" fw={500} fz=\"xs\">\n                    Invalid\n                  </Text>\n                </Flex>\n              </Popover.Target>\n              <Popover.Dropdown style={{ pointerEvents: \"none\" }}>\n                <Text size=\"xs\">{error}</Text>\n              </Popover.Dropdown>\n            </Popover>\n          ) : (\n            <Flex align=\"center\" gap={2}>\n              <VscCheck />\n              <Text size=\"xs\">Valid</Text>\n            </Flex>\n          )}\n        </StyledBottomBarItem>\n        <StyledBottomBarItem\n          onClick={() => {\n            toggleLiveTransform(!liveTransformEnabled);\n            gaEvent(\"toggle_live_transform\");\n          }}\n        >\n          {liveTransformEnabled ? <VscSync /> : <VscSyncIgnored />}\n          <Text fz=\"xs\">Live Transform</Text>\n        </StyledBottomBarItem>\n        {!liveTransformEnabled && (\n          <StyledBottomBarItem onClick={() => setContents({})} disabled={!!error}>\n            <VscRunAll />\n            Click to Transform\n          </StyledBottomBarItem>\n        )}\n      </StyledLeft>\n\n      <StyledRight>\n        <Menu offset={8}>\n          <Menu.Target>\n            <StyledBottomBarItem>\n              <Flex align=\"center\" gap={2}>\n                <MdArrowUpward />\n                <Text size=\"xs\">{currentFormat?.toUpperCase()}</Text>\n              </Flex>\n            </StyledBottomBarItem>\n          </Menu.Target>\n          <Menu.Dropdown>\n            {formats.map(format => (\n              <Menu.Item\n                key={format.value}\n                fz={12}\n                onClick={() => setFormat(format.value)}\n                rightSection={currentFormat === format.value && <IoMdCheckmark />}\n              >\n                {format.label}\n              </Menu.Item>\n            ))}\n          </Menu.Dropdown>\n        </Menu>\n      </StyledRight>\n    </StyledBottomBar>\n  );\n};\n","import React from \"react\";\nimport { Group, Text } from \"@mantine/core\";\nimport { Dropzone } from \"@mantine/dropzone\";\nimport toast from \"react-hot-toast\";\nimport { VscCircleSlash, VscFiles } from \"react-icons/vsc\";\nimport { FileFormat } from \"../../enums/file.enum\";\nimport useFile from \"../../store/useFile\";\n\nexport const FullscreenDropzone = () => {\n  const setContents = useFile(state => state.setContents);\n\n  return (\n    <Dropzone.FullScreen\n      maxFiles={1}\n      accept={[\n        \"application/json\",\n        \"application/x-yaml\",\n        \"text/csv\",\n        \"application/xml\",\n        \"application/toml\",\n      ]}\n      onReject={files => toast.error(`Unable to load file ${files[0].file.name}`)}\n      onDrop={async e => {\n        try {\n          const fileContent = await e[0].text();\n          let fileExtension = e[0].name.split(\".\").pop() as FileFormat | undefined;\n          if (!fileExtension) fileExtension = FileFormat.JSON;\n          setContents({ contents: fileContent, format: fileExtension, hasChanges: false });\n        } catch (err) {\n          toast.error(\"An error occurred while reading the file.\");\n          console.error(err);\n        }\n      }}\n    >\n      <Group\n        justify=\"center\"\n        ta=\"center\"\n        align=\"center\"\n        gap=\"xl\"\n        h=\"100vh\"\n        style={{ pointerEvents: \"none\" }}\n      >\n        <Dropzone.Accept>\n          <VscFiles size={100} />\n          <Text fz=\"h1\" fw={500} mt=\"lg\">\n            Upload to JSON Crack\n          </Text>\n          <Text fz=\"lg\" c=\"dimmed\" mt=\"sm\">\n            (Max file size: 300 KB)\n          </Text>\n        </Dropzone.Accept>\n        <Dropzone.Reject>\n          <VscCircleSlash size={100} />\n          <Text fz=\"h1\" fw={500} mt=\"lg\">\n            Invalid file\n          </Text>\n          <Text fz=\"lg\" c=\"dimmed\" mt=\"sm\">\n            Allowed formats are JSON, YAML, CSV, XML, TOML\n          </Text>\n        </Dropzone.Reject>\n      </Group>\n    </Dropzone.FullScreen>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const StyledToolElement = styled.button<{ $hide?: boolean; $highlight?: boolean }>`\n  display: ${({ $hide }) => ($hide ? \"none\" : \"flex\")};\n  align-items: center;\n  gap: 4px;\n  place-content: center;\n  font-size: 12px;\n  background: ${({ $highlight }) =>\n    $highlight ? \"linear-gradient(rgba(0, 0, 0, 0.1) 0 0)\" : \"none\"};\n  color: ${({ theme }) => theme.INTERACTIVE_NORMAL};\n  padding: 6px;\n  border-radius: 3px;\n  white-space: nowrap;\n\n  &:hover {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n  }\n\n  &:hover {\n    color: ${({ theme }) => theme.INTERACTIVE_HOVER};\n    opacity: 1;\n    box-shadow: none;\n  }\n`;\n","import React from \"react\";\nimport { Flex, Menu } from \"@mantine/core\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { CgChevronDown } from \"react-icons/cg\";\nimport useFile from \"../../../store/useFile\";\nimport { useModal } from \"../../../store/useModal\";\nimport { StyledToolElement } from \"./styles\";\n\nexport const FileMenu = () => {\n  const setVisible = useModal(state => state.setVisible);\n  const getContents = useFile(state => state.getContents);\n  const getFormat = useFile(state => state.getFormat);\n\n  const handleSave = () => {\n    const a = document.createElement(\"a\");\n    const file = new Blob([getContents()], { type: \"text/plain\" });\n\n    a.href = window.URL.createObjectURL(file);\n    a.download = `jsoncrack.${getFormat()}`;\n    a.click();\n\n    gaEvent(\"save_file\", { label: getFormat() });\n  };\n\n  return (\n    <Menu shadow=\"md\" withArrow>\n      <Menu.Target>\n        <StyledToolElement title=\"File\">\n          <Flex align=\"center\" gap={3}>\n            File\n            <CgChevronDown />\n          </Flex>\n        </StyledToolElement>\n      </Menu.Target>\n      <Menu.Dropdown>\n        <Menu.Item fz={12} onClick={() => setVisible(\"ImportModal\", true)}>\n          Import\n        </Menu.Item>\n        <Menu.Item fz={12} onClick={handleSave}>\n          Export\n        </Menu.Item>\n      </Menu.Dropdown>\n    </Menu>\n  );\n};\n","import React from \"react\";\nimport { Menu, Flex } from \"@mantine/core\";\nimport { JSONSchemaFaker } from \"json-schema-faker\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport toast from \"react-hot-toast\";\nimport { CgChevronDown } from \"react-icons/cg\";\nimport { FaRandom } from \"react-icons/fa\";\nimport { MdFilterListAlt } from \"react-icons/md\";\nimport { SiJsonwebtokens } from \"react-icons/si\";\nimport { VscSearchFuzzy, VscJson, VscGroupByRefType } from \"react-icons/vsc\";\nimport { jsonToContent } from \"../../../lib/utils/jsonAdapter\";\nimport useFile from \"../../../store/useFile\";\nimport useJson from \"../../../store/useJson\";\nimport { useModal } from \"../../../store/useModal\";\nimport { StyledToolElement } from \"./styles\";\n\nexport const ToolsMenu = () => {\n  const setVisible = useModal(state => state.setVisible);\n  const getJson = useJson(state => state.getJson);\n  const setContents = useFile(state => state.setContents);\n  const getFormat = useFile(state => state.getFormat);\n\n  const randomizeData = async () => {\n    try {\n      // generate json schema\n      const { run } = await import(\"json_typegen_wasm\");\n      const jsonSchema = run(\n        \"Root\",\n        getJson(),\n        JSON.stringify({\n          output_mode: \"json_schema\",\n        })\n      );\n\n      // generate random data\n      const randomJson = JSONSchemaFaker.generate(JSON.parse(jsonSchema));\n      const contents = await jsonToContent(JSON.stringify(randomJson, null, 2), getFormat());\n      setContents({ contents });\n\n      gaEvent(\"randomize_data\");\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Failed to generate mock data\");\n    }\n  };\n\n  return (\n    <Menu shadow=\"md\" withArrow>\n      <Menu.Target>\n        <StyledToolElement onClick={() => gaEvent(\"show_tools_menu\")}>\n          <Flex align=\"center\" gap={3}>\n            Tools <CgChevronDown />\n          </Flex>\n        </StyledToolElement>\n      </Menu.Target>\n      <Menu.Dropdown>\n        <Menu.Item\n          fz={12}\n          leftSection={<VscSearchFuzzy />}\n          onClick={() => {\n            setVisible(\"JQModal\", true);\n            gaEvent(\"open_jq_modal\");\n          }}\n        >\n          JSON Query (jq)\n        </Menu.Item>\n        <Menu.Item\n          fz={12}\n          leftSection={<VscJson />}\n          onClick={() => {\n            setVisible(\"SchemaModal\", true);\n            gaEvent(\"open_schema_modal\");\n          }}\n        >\n          JSON Schema\n        </Menu.Item>\n        <Menu.Item\n          fz={12}\n          leftSection={<MdFilterListAlt />}\n          onClick={() => {\n            setVisible(\"JPathModal\", true);\n            gaEvent(\"open_json_path_modal\");\n          }}\n        >\n          JSON Path\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item\n          fz={12}\n          leftSection={<SiJsonwebtokens />}\n          onClick={() => {\n            setVisible(\"JWTModal\", true);\n            gaEvent(\"open_jwt_modal\");\n          }}\n        >\n          Decode JWT\n        </Menu.Item>\n        <Menu.Item\n          fz={12}\n          leftSection={<VscGroupByRefType />}\n          onClick={() => {\n            setVisible(\"TypeModal\", true);\n            gaEvent(\"open_type_modal\");\n          }}\n        >\n          Generate Type\n        </Menu.Item>\n        <Menu.Item fz={12} leftSection={<FaRandom />} onClick={randomizeData}>\n          Randomize Data\n        </Menu.Item>\n      </Menu.Dropdown>\n    </Menu>\n  );\n};\n","import React from \"react\";\nimport { Menu, Flex, SegmentedControl, Text } from \"@mantine/core\";\nimport { useSessionStorage } from \"@mantine/hooks\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { BsCheck2 } from \"react-icons/bs\";\nimport { CgChevronDown } from \"react-icons/cg\";\nimport { ViewMode } from \"../../../enums/viewMode.enum\";\nimport useConfig from \"../../../store/useConfig\";\nimport { StyledToolElement } from \"./styles\";\n\nexport const ViewMenu = () => {\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\n  const toggleDarkMode = useConfig(state => state.toggleDarkMode);\n  const [viewMode, setViewMode] = useSessionStorage({\n    key: \"viewMode\",\n    defaultValue: ViewMode.Graph,\n  });\n\n  return (\n    <Menu shadow=\"md\" closeOnItemClick={false} withArrow>\n      <Menu.Target>\n        <StyledToolElement onClick={() => gaEvent(\"show_view_menu\")}>\n          <Flex align=\"center\" gap={3}>\n            View <CgChevronDown />\n          </Flex>\n        </StyledToolElement>\n      </Menu.Target>\n      <Menu.Dropdown>\n        <SegmentedControl\n          size=\"xs\"\n          miw=\"120\"\n          w=\"100%\"\n          value={viewMode}\n          onChange={e => {\n            setViewMode(e as ViewMode);\n            gaEvent(\"change_view_mode\", { label: e });\n          }}\n          data={[\n            { value: ViewMode.Graph, label: \"Graph\" },\n            { value: ViewMode.Tree, label: \"Tree\" },\n          ]}\n          fullWidth\n          mb=\"4\"\n        />\n        <Menu.Divider />\n        <Menu.Item\n          leftSection={<BsCheck2 opacity={darkmodeEnabled ? 100 : 0} />}\n          onClick={() => {\n            toggleDarkMode(!darkmodeEnabled);\n            gaEvent(\"toggle_dark_mode\", { label: darkmodeEnabled ? \"on\" : \"off\" });\n          }}\n        >\n          <Text size=\"xs\">Dark Mode</Text>\n        </Menu.Item>\n      </Menu.Dropdown>\n    </Menu>\n  );\n};\n","import React from \"react\";\nimport { Group } from \"@mantine/core\";\nimport styled from \"styled-components\";\nimport { FileMenu } from \"./FileMenu\";\nimport { ToolsMenu } from \"./ToolsMenu\";\nimport { ViewMenu } from \"./ViewMenu\";\n\nconst StyledTools = styled.div`\n  position: relative;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  gap: 4px;\n  justify-content: space-between;\n  height: 40px;\n  padding: 4px 8px;\n  background: ${({ theme }) => theme.TOOLBAR_BG};\n  color: ${({ theme }) => theme.SILVER};\n  z-index: 36;\n  border-bottom: 1px solid ${({ theme }) => theme.SILVER_DARK};\n\n  @media only screen and (max-width: 320px) {\n    display: none;\n  }\n`;\n\nexport const Toolbar = () => {\n  return (\n    <StyledTools>\n      <Group gap=\"xs\" justify=\"left\" w=\"100%\" style={{ flexWrap: \"nowrap\" }}>\n        <FileMenu />\n        <ViewMenu />\n        <ToolsMenu />\n      </Group>\n    </StyledTools>\n  );\n};\n","import { useEffect } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { useRouter } from \"next/router\";\nimport { useMantineColorScheme } from \"@mantine/core\";\nimport \"@mantine/dropzone/styles.css\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { Allotment } from \"allotment\";\nimport \"allotment/dist/style.css\";\n// import Cookie from \"js-cookie\";\nimport { darkTheme, lightTheme } from \"../constants/theme\";\nimport { BottomBar } from \"../features/editor/BottomBar\";\nimport { FullscreenDropzone } from \"../features/editor/FullscreenDropzone\";\nimport { Toolbar } from \"../features/editor/Toolbar\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport useConfig from \"../store/useConfig\";\nimport useFile from \"../store/useFile\";\n\nconst ModalController = dynamic(() => import(\"../features/modals/ModalController\"));\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: false,\n    },\n  },\n});\n\nexport const StyledPageWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: 100%;\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nexport const StyledEditorWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nexport const StyledEditor = styled(Allotment)`\n  position: relative !important;\n  display: flex;\n  background: ${({ theme }) => theme.BACKGROUND_SECONDARY};\n\n  @media only screen and (max-width: 320px) {\n    height: 100vh;\n  }\n`;\n\nconst StyledTextEditor = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\n\nconst TextEditor = dynamic(() => import(\"../features/editor/TextEditor\"), {\n  ssr: false,\n});\n\nconst LiveEditor = dynamic(() => import(\"../features/editor/LiveEditor\"), {\n  ssr: false,\n});\n\nconst EditorPage = () => {\n  const { query, isReady } = useRouter();\n  const { setColorScheme } = useMantineColorScheme();\n  const checkEditorSession = useFile(state => state.checkEditorSession);\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\n  const fullscreen = useGraph(state => state.fullscreen);\n\n  useEffect(() => {\n    if (isReady) checkEditorSession(query?.json);\n  }, [checkEditorSession, isReady, query]);\n\n  useEffect(() => {\n    setColorScheme(darkmodeEnabled ? \"dark\" : \"light\");\n  }, [darkmodeEnabled, setColorScheme]);\n\n  return (\n    <>\n      <ThemeProvider theme={darkmodeEnabled ? darkTheme : lightTheme}>\n        <QueryClientProvider client={queryClient}>\n          <ModalController />\n          <StyledEditorWrapper>\n            <StyledPageWrapper>\n              <Toolbar />\n              <StyledEditorWrapper>\n                <StyledEditor proportionalLayout={false}>\n                  <Allotment.Pane\n                    preferredSize={450}\n                    minSize={fullscreen ? 0 : 300}\n                    maxSize={800}\n                    visible={!fullscreen}\n                  >\n                    <StyledTextEditor>\n                      <TextEditor />\n                      <BottomBar />\n                    </StyledTextEditor>\n                  </Allotment.Pane>\n                  <Allotment.Pane minSize={0}>\n                    <LiveEditor />\n                  </Allotment.Pane>\n                </StyledEditor>\n                <FullscreenDropzone />\n              </StyledEditorWrapper>\n            </StyledPageWrapper>\n          </StyledEditorWrapper>\n        </QueryClientProvider>\n      </ThemeProvider>\n    </>\n  );\n};\n\nexport default EditorPage;\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\n\nconst initialStates = {\n  darkmodeEnabled: true,\n  imagePreviewEnabled: true,\n  liveTransformEnabled: true,\n  gesturesEnabled: false,\n  rulersEnabled: true,\n};\n\nexport interface ConfigActions {\n  toggleDarkMode: (value: boolean) => void;\n  toggleImagePreview: (value: boolean) => void;\n  toggleLiveTransform: (value: boolean) => void;\n  toggleGestures: (value: boolean) => void;\n  toggleRulers: (value: boolean) => void;\n}\n\nconst useConfig = create(\n  persist<typeof initialStates & ConfigActions>(\n    set => ({\n      ...initialStates,\n      toggleRulers: rulersEnabled => set({ rulersEnabled }),\n      toggleGestures: gesturesEnabled => set({ gesturesEnabled }),\n      toggleLiveTransform: liveTransformEnabled => set({ liveTransformEnabled }),\n      toggleDarkMode: darkmodeEnabled => set({ darkmodeEnabled }),\n      toggleImagePreview: imagePreviewEnabled => {\n        set({ imagePreviewEnabled });\n        useGraph.getState().setGraph();\n      },\n    }),\n    {\n      name: \"config\",\n    }\n  )\n);\n\nexport default useConfig;\n","export function isIframe() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n}\n","import debounce from \"lodash.debounce\";\nimport { event as gaEvent } from \"nextjs-google-analytics\";\nimport { toast } from \"react-hot-toast\";\nimport { create } from \"zustand\";\nimport exampleJson from \"../data/example.json\";\nimport { FileFormat } from \"../enums/file.enum\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\nimport { isIframe } from \"../lib/utils/helpers\";\nimport { contentToJson, jsonToContent } from \"../lib/utils/jsonAdapter\";\nimport useConfig from \"./useConfig\";\nimport useJson from \"./useJson\";\n\nconst defaultJson = JSON.stringify(exampleJson, null, 2);\n\ntype SetContents = {\n  contents?: string;\n  hasChanges?: boolean;\n  skipUpdate?: boolean;\n  format?: FileFormat;\n};\n\ntype Query = string | string[] | undefined;\n\ninterface JsonActions {\n  getContents: () => string;\n  getFormat: () => FileFormat;\n  getHasChanges: () => boolean;\n  setError: (error: string | null) => void;\n  setHasChanges: (hasChanges: boolean) => void;\n  setContents: (data: SetContents) => void;\n  fetchUrl: (url: string) => void;\n  setFormat: (format: FileFormat) => void;\n  clear: () => void;\n  setFile: (fileData: File) => void;\n  setJsonSchema: (jsonSchema: object | null) => void;\n  checkEditorSession: (url: Query, widget?: boolean) => void;\n}\n\nexport type File = {\n  id: string;\n  views: number;\n  owner_email: string;\n  name: string;\n  content: string;\n  private: boolean;\n  format: FileFormat;\n  created_at: string;\n  updated_at: string;\n};\n\nconst initialStates = {\n  fileData: null as File | null,\n  format: FileFormat.JSON,\n  contents: defaultJson,\n  error: null as any,\n  hasChanges: false,\n  jsonSchema: null as object | null,\n};\n\nexport type FileStates = typeof initialStates;\n\nconst isURL = (value: string) => {\n  return /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/gi.test(\n    value\n  );\n};\n\nconst debouncedUpdateJson = debounce((value: unknown) => {\n  useGraph.getState().setLoading(true);\n  useJson.getState().setJson(JSON.stringify(value, null, 2));\n}, 400);\n\nconst useFile = create<FileStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  clear: () => {\n    set({ contents: \"\" });\n    useJson.getState().clear();\n  },\n  setJsonSchema: jsonSchema => set({ jsonSchema }),\n  setFile: fileData => {\n    set({ fileData, format: fileData.format || FileFormat.JSON });\n    get().setContents({ contents: fileData.content, hasChanges: false });\n    gaEvent(\"set_content\", { label: fileData.format });\n  },\n  getContents: () => get().contents,\n  getFormat: () => get().format,\n  getHasChanges: () => get().hasChanges,\n  setFormat: async format => {\n    try {\n      const prevFormat = get().format;\n\n      set({ format });\n      const contentJson = await contentToJson(get().contents, prevFormat);\n      const jsonContent = await jsonToContent(JSON.stringify(contentJson, null, 2), format);\n\n      get().setContents({ contents: jsonContent });\n    } catch (error) {\n      get().clear();\n      console.warn(\"The content was unable to be converted, so it was cleared instead.\");\n    }\n  },\n  setContents: async ({ contents, hasChanges = true, skipUpdate = false, format }) => {\n    try {\n      set({\n        ...(contents && { contents }),\n        error: null,\n        hasChanges,\n        format: format ?? get().format,\n      });\n\n      const isFetchURL = window.location.href.includes(\"?\");\n      const json = await contentToJson(get().contents, get().format);\n\n      if (!useConfig.getState().liveTransformEnabled && skipUpdate) return;\n\n      if (get().hasChanges && contents && contents.length < 80_000 && !isIframe() && !isFetchURL) {\n        sessionStorage.setItem(\"content\", contents);\n        sessionStorage.setItem(\"format\", get().format);\n        set({ hasChanges: true });\n      }\n\n      debouncedUpdateJson(json);\n    } catch (error: any) {\n      if (error?.mark?.snippet) return set({ error: error.mark.snippet });\n      if (error?.message) set({ error: error.message });\n      useJson.setState({ loading: false });\n      useGraph.setState({ loading: false });\n    }\n  },\n  setError: error => set({ error }),\n  setHasChanges: hasChanges => set({ hasChanges }),\n  fetchUrl: async url => {\n    try {\n      const res = await fetch(url);\n      const json = await res.json();\n      const jsonStr = JSON.stringify(json, null, 2);\n\n      get().setContents({ contents: jsonStr });\n      return useJson.setState({ json: jsonStr, loading: false });\n    } catch (error) {\n      get().clear();\n      toast.error(\"Failed to fetch document from URL!\");\n    }\n  },\n  checkEditorSession: (url, widget) => {\n    if (url && typeof url === \"string\" && isURL(url)) {\n      return get().fetchUrl(url);\n    }\n\n    let contents = defaultJson;\n    const sessionContent = sessionStorage.getItem(\"content\") as string | null;\n    const format = sessionStorage.getItem(\"format\") as FileFormat | null;\n    if (sessionContent && !widget) contents = sessionContent;\n\n    if (format) set({ format });\n    get().setContents({ contents, hasChanges: false });\n  },\n}));\n\nexport default useFile;\n","import { create } from \"zustand\";\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\n\ninterface JsonActions {\n  setJson: (json: string) => void;\n  getJson: () => string;\n  clear: () => void;\n}\n\nconst initialStates = {\n  json: \"{}\",\n  loading: true,\n};\n\nexport type JsonStates = typeof initialStates;\n\nconst useJson = create<JsonStates & JsonActions>()((set, get) => ({\n  ...initialStates,\n  getJson: () => get().json,\n  setJson: json => {\n    set({ json, loading: false });\n    useGraph.getState().setGraph(json);\n  },\n  clear: () => {\n    set({ json: \"\", loading: false });\n    useGraph.getState().clearGraph();\n  },\n}));\n\nexport default useJson;\n"],"names":["window","__NEXT_P","push","__webpack_require__","NODE_DIMENSIONS","ROW_HEIGHT","PARENT_HEIGHT","SUPPORTED_LIMIT","FileFormat","TypeLanguage","formats","value","label","typeOptions","lang","ViewMode","isContentImage","isImageURL","test","isBase64","startsWith","includes","calculateLines","isArray","text","map","k","v","param","JSON","concat","stringify","slice","join","calculateWidthAndHeight","str","single","width","height","dummyElement","document","createElement","style","whiteSpace","innerText","fontSize","padding","fontWeight","fontFamily","body","appendChild","clientRect","getBoundingClientRect","lines","split","length","removeChild","sizeCache","Map","setInterval","clear","calculateNodeSize","isParent","imagePreviewEnabled","useConfig","getState","isImage","cacheKey","toString","has","size","get","sizes","set","parser","jsonTree","parseTree","json","nodes","edges","nodeId","edgeId","traverse","node","parentId","id","String","undefined","parent","type","from","to","isRootArray","children","key","childrenCount","path","forEach","child","valueNode","targetIds","arrayChild","arrayChildId","targetId","objectNodeId","Object","keys","appendParentKey","getParentKey","getNodePath","targetNode","pop","parentKey","parentType","replace","t","some","keyStr","initialStates","viewPort","direction","loading","fullscreen","selectedNode","aboveSupportedLimit","stores_useGraph","create","clearGraph","setSelectedNode","nodeData","setGraph","data","options","useJson","setDirection","setTimeout","centerView","setLoading","focusFirstNode","rootNode","querySelector","camera","centerFitElementIntoView","elementExtraMarginForZoom","setZoomFactor","zoomFactor","recenter","centerX","centerY","zoomIn","zoomOut","updateContainerSize","canvas","toggleFullscreen","setViewPort","contentToJson","format","Promise","resolve","reject","parse","e","then","bind","errors","result","YAML","load","XML","XMLParser","attributeNamePrefix","ignoreAttributes","allowBooleanAttributes","parseAttributeValue","trimValues","parseTagValue","CSV","csv2json","trimFieldValues","trimHeaderFields","wrapBooleans","excelBOM","error","Error","message","jsonToContent","parsedJson","dump","XMLBuilder","builder","build","json2csv","Array","expandArrayObjects","expandNestedObjects","console","StyledBottomBar","styled","div","withConfig","theme","BACKGROUND_MODIFIER_ACCENT","TOOLBAR_BG","StyledLeft","StyledRight","StyledBottomBarItem","button","INTERACTIVE_NORMAL","$bg","INTERACTIVE_HOVER","BottomBar","useFile","state","fileData","toggleLiveTransform","liveTransformEnabled","setContents","useGraph","setFormat","currentFormat","React","name","title","jsx_runtime","jsxs","jsx","onClick","gaEvent","BiSolidDockLeft","Popover","shadow","position","withArrow","Target","Flex","align","gap","VscError","color","Text","c","fw","fz","Dropdown","pointerEvents","VscCheck","VscSync","VscSyncIgnored","disabled","VscRunAll","Menu","offset","MdArrowUpward","toUpperCase","Item","rightSection","IoMdCheckmark","FullscreenDropzone","Dropzone","FullScreen","maxFiles","accept","onReject","files","toast","file","onDrop","fileContent","fileExtension","contents","hasChanges","err","Group","justify","ta","h","Accept","VscFiles","mt","Reject","VscCircleSlash","StyledToolElement","$hide","$highlight","FileMenu","setVisible","useModal","getContents","getFormat","CgChevronDown","a","Blob","href","URL","createObjectURL","download","click","ToolsMenu","getJson","randomizeData","run","jsonSchema","output_mode","randomJson","JSONSchemaFaker","generate","leftSection","VscSearchFuzzy","VscJson","MdFilterListAlt","Divider","SiJsonwebtokens","VscGroupByRefType","FaRandom","ViewMenu","darkmodeEnabled","toggleDarkMode","viewMode","setViewMode","useSessionStorage","defaultValue","Graph","closeOnItemClick","SegmentedControl","miw","w","onChange","Tree","fullWidth","mb","BsCheck2","opacity","StyledTools","SILVER","SILVER_DARK","Toolbar","flexWrap","ModalController","dynamic","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","StyledPageWrapper","StyledEditorWrapper","StyledEditor","Allotment","BACKGROUND_SECONDARY","StyledTextEditor","TextEditor","ssr","LiveEditor","all","editor","query","isReady","useRouter","setColorScheme","useMantineColorScheme","checkEditorSession","useEffect","Fragment","ThemeProvider","darkTheme","lightTheme","QueryClientProvider","client","proportionalLayout","Pane","preferredSize","minSize","maxSize","visible","gesturesEnabled","rulersEnabled","persist","toggleRulers","toggleGestures","toggleImagePreview","__webpack_exports__","Z","defaultJson","exampleJson","isURL","debouncedUpdateJson","debounce","setJson","store_useFile","setJsonSchema","setFile","content","getHasChanges","prevFormat","contentJson","jsonContent","warn","skipUpdate","isFetchURL","location","isIframe","self","top","sessionStorage","setItem","mark","snippet","setState","setError","setHasChanges","fetchUrl","url","res","fetch","jsonStr","widget","sessionContent","getItem"],"sourceRoot":""}